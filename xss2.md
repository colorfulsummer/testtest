# XSS蠕虫的构造--part 2

为了理解XSS蠕虫的实际应用，我们首先介绍一下XSS蠕虫的传播环境，一个简单的社交网络。我们姑且叫他XSSbook，它的数据库主要由三个表组成。

![database][1]

每个表的内容

![enter description here][2]

users表有该社交系统中的用户信息，包括用户id，登录名，姓名，加密后的密码，电子邮箱地址和简单的自我介绍。

posts表存储了文章信息，包括文章id，发布者id，文章内容与文章发布时间。

最后，follows表描述了用户之间收听与被收听的关系，即每个收听的用户的动态都会出现在该用户的timeline上。

这一系列php代码可以完成会话控制等功能，支撑整个系统的运转。

![enter description here][3]

现在挑战在于用如何尽可能接近真实社交网络的数据传播来使用虚假数据产生一个数据库。为了达到这个目的，我们会使用bash脚本来生成一系列数据以贴近大型社交网络。我们也将努力的呈现这种呈指数级别增长的XSS蠕虫的威力，即当成千上万的用户连接时，XSS蠕虫的传播将越来越快！


![enter description here][4]


  [1]: images/19.png "19.png"
  [2]: images/20.png "20.png"
  [3]: images/21.png "21.png"
  [4]: images/22.png "22.png"
